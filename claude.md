# CLAUDE.md  
> Projekt‑Manifest für den Einsatz von Claude Code im Projekt **TraivelNxt**  
> (reisemedizinische Beratungs‑WebApp des Tropeninstituts)

## 1. Projektübersicht  
**Name:** TraivelNxt – WebApp zur Unterstützung der reisemedizinischen Beratertätigkeit  
**Ziel:** In drei Tagen einen funktionsfähigen MVP‑Prototyp (Desktop‑WebApp) präsentieren, danach schrittweise Produktionsreife erreichen.  
**Technologie‑Stack:**  
- Frontend: Next.js mit TypeScript, React (Client Components)  
- Datenbank: PostgreSQL (Neon)  
- ORM: Drizzle  
- i18n: Deutsch/Englisch  
- KI‑/Agenten‑Assistenz: Claude Code (für Prototyping, Code­Generierung, Docs)  
**Warum Claude Code?**  
- Ermöglicht schnelle Prototypisierung: Features planen, Code generieren, Files erzeugen.  
- Unterstützt Coding‑Agent Workflow (Scripts, CLI).  
**Projektrichtlinie mit Claude:**  
- Klar definierte Tasks: Jede Kommandoanfrage an Claude soll **klar**, **kontextreich** und **zielorientiert** sein.  
- Verwendung von Slash‑Commands / vordefinierten Prompts für wiederkehrende Aufgaben.  
- Dokumentation der Code‑Generierung: Jede Datei, Funktion und Änderung soll nachvollziehbar bleiben (‑> Dateistruktur im Briefing).  
- Menschliche Überprüfung unabdingbar: Auch mit Claude generierter Code muss geprüft werden – „Agentic Coding“ heisst Beschleunigung, nicht Abgabe der Verantwortung.  

## 2. Arbeitsablauf mit Claude  
### 2.1 Session‑Management  
- Für jede größere Funktionalität (z. B. Onboarding, Impfanamnese, Outputs) wird eine **eigenständige Claude Code‑Session** gestartet, idealerweise über `git worktree` oder separaten Branch.  
- Nach Erreichen eines Meilensteins: Commit mit Beschreibung, ggf. Tagging – dann neue Session starten. Vermeidet Kontext‑Überlastung.  
- Regelmäßige Backups: Claude kann Dateien modifizieren oder löschen – Vorsicht.  

### 2.2 Prompts & Slash‑Commands  
- Unter `.claude/commands/` können projekt‑spezifische Prompt‑Templates abgelegt werden. Beispiel:  
  ```text
  .claude/commands/generate‑component.md

  ### Prompt:  
  „Erzeuge eine Next.js Client Component mit MUI, die …
    • Datei: app/(main)/dashboard/components/LeftDrawer.tsx  
    • Funktion: Linker Drawer mit Onboarding‑Sektion …“  
  ```  
  So kann mit `/generate‑component LeftDrawer` der Prompt ausgeführt werden.  
- Prompts stets **klar formulieren**, **Ziel definieren**, **Constraints (Tech Stack, Dateipfad, Sprache)** angeben.  
- Bei komplexen Aufgaben: Claude anweisen, **Schritte aufzuschlüsseln** („think step by step“) – hilft bessere Ergebnisse.  

### 2.3 Dateistruktur und Namenskonvention  
- Dateinamen und Pfade orientieren sich an den in deinem XML definierten IDs und Namen. (z. B. `TabImpfanamnese.tsx`, `generate‑report.ts`, etc).  
- Komponenten, Features und Services klar benennen, damit Claude und Menschen sie leicht finden.  
- Änderungen durch Claude werden in der Commit‑History dokumentiert – ggf. mit Kommentar „Generated by Claude – please review“.  

## 3. Arbeitsprinzipien  
- **Konsistenz:** Wiederkehrende Patterns (z. B. Tab‑Layouts, Drawer) sollen einmal mit Claude erstellt, dann als Vorlage für Wiederholungen dienen.  
- **Klarheit:** Jede Datei startet mit Kommentarblock, der Zweck, Funktion und Zugehörigkeit beschreibt.  
- **Review**: Auch generierter Code durch Claude wird geprüft – Style, Sicherheit, Funktionalität.  
- **Iterativ:** MVP‑Ziel, also keine Überoptimierung, aber bereits mit Skalierbarkeit im Blick (z. B. i18n, Clean Code, Modularität).  
- **Transparenz:** Alle autonomen Aktionen von Claude im Repo nachvollziehbar – Änderungen, Dateien, Prompts.  

## 4. Sicherheits‑ & Qualitätsrichtlinien  
- Kein direktes Pipeline‑Piping von untrusted Inputs in Claude – erst validieren.  
- Automatisierte Prüfungen: Claude kann als Teil des CI/CD genutzt werden, z. B. via `claude -p "Review code changes for style/security"` in npm‑Script.  
- Kontextfenster managen: Bei großen Repositories oder Sessions darauf achten, Kontext nicht zu überladen – ggf. Session neu starten.  

## 5. Projekt‑Spezifika für TraivelNxt  
- **Name für Claude Agenten‑Sessions:** „TraivelNxt‑ClaudeAgent“  
- **Zentraler Branch für Prototyping:** `mvp/v1`  
- **Datei‑Prefix‑Konvention:** Features im Ordner `/features/<feature‑name>/`, Komponenten im `/app/(main)/dashboard/components/` etc.  
- **i18n:** Alle sichtbaren Strings über `const t = { de: { … }, en: { … } }` oder via i18n‑Hook – Claude bei Generierung schon darauf hinweisen.  
- **Outputs:** Buttons im Right Panel verlinken auf Skripte `/features/outputs/…` – bei Prompt an Claude klar benennen.  
- **Mock‑Daten:** Unter `/data/mock‑*.ts` – Claude beim Erzeugen von Komponenten automatisiert „Stub‑Data“ erzeugen lassen.  

## 6. Checkliste für jede Claude‑Code‑Aufgabe  
- [ ] Ziel klar formuliert (Was soll erstellt werden?)  
- [ ] Tech‑Stack & Constraints angegeben (Next.js, TypeScript, MUI, Pfad)  
- [ ] Dateipfad genannt  
- [ ] Golden Path / Boilerplate vorhanden (falls relevant)  
- [ ] Output‑Erwartung beschrieben (z. B. „React Component with props …“ )  
- [ ] Review‑Hinweise („Bitte erstelle Tests, füge Kommentare, beachte i18n“)  
- [ ] Nach Fertigstellung: Commit mit „Generated by Claude – review needed“  
- [ ] Peer/selbst Review durchführen  

## 7. Versions‑ & Kommunikationshinweise  
- Repository auf GitHub mit Branch‑Strategie: `main` (Produktionsbereit), `mvp/v1`, `feature/<name>`.  
- Jede neue Session mit Claude führt zu einem eigenen Branch oder Worktree.  
- PR‑Titel nach Template: `[Claude‑Generated] <Kurzbeschreibung>` oder `[Human] …`  
- Commit‑Message Template: `feat: (Claude) <Beschreibung> — generated code; review mandatory`  

## 8. Projektbriefing / Kontext
Das vollständige Projektbriefing befindet sich in:
`/docs/project-brief.xml`

> Enthält:
> - Gesamtkonzept und Zielsetzung
> - Datenmodell-Definition
> - User Journeys (Onboarding, Beratung, Outputs)
> - Dateistruktur
> - Technische Spezifikationen (Stack, ORM, DB-Plattform)

Claude-Code-Hinweis:
Wenn du auf Basis dieses Dokuments generierst, verwende:
`/read docs/project-brief.xml`
oder gib relevante Abschnitte manuell als Kontext an, z. B.:
> „Beziehe dich auf <User_Journey_Onboarding> im project-brief.xml.“